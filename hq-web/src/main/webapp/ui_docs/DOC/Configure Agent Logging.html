<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>vFabric Hyperic 4.6.5 : Configure Agent Logging</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            vFabric Hyperic 4.6.5 : Configure Agent Logging
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 04, 2012 by <font color="#0050B2">mmcgarry</font>.
				    </div>

				    <p><font color="gray"><em>Topics marked with</em></font> <font color="red">*</font> <font color="gray"><em>relate to features available only in vFabric Hyperic.</em></font></p>

 
<style type='text/css'>/*<![CDATA[*/
div.rbtoc1325699471197 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1325699471197 ul {list-style: disc;margin-left: 0px;padding-left: 20px;}
div.rbtoc1325699471197 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1325699471197'>
<ul>
    <li><a href='#ConfigureAgentLogging-AgentLogFiles'>Agent Log Files</a></li>
    <li><a href='#ConfigureAgentLogging-ConfigureAgentLogNameorLocation'>Configure Agent Log Name or Location</a></li>
    <li><a href='#ConfigureAgentLogging-ConfigureAgentLoggingLevel'>Configure Agent Logging Level</a></li>
    <li><a href='#ConfigureAgentLogging-RedirectSystemMessagestotheAgentLog'>Redirect System Messages to the Agent Log</a></li>
    <li><a href='#ConfigureAgentLogging-log4jProperties'>log4j Properties</a></li>
</ul></div> 
 

<h1><a name="ConfigureAgentLogging-AgentLogFiles"></a>Agent Log Files </h1>

<p>Agent log files are stored in the <tt>AgentHome/log</tt> directory. They include: </p>

<ul>
	<li><tt>agent.log</tt></li>
	<li><tt>agent.startup.log</tt></li>
	<li><tt>wrapper.log</tt> - The agent JSW-based launcher writes messages to this log.</li>
</ul>


<h1><a name="ConfigureAgentLogging-ConfigureAgentLogNameorLocation"></a>Configure Agent Log Name or Location </h1>

<p>Use these properties to change the name or location of the agent log file: </p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>agent.logDir</b><br /><b>Description</b>

<p>You can add this property to the <tt>agent.properties</tt>  file to specify the directory where the Hyperic Agent will write its log file. Unless you specify a fully qualified path, <tt>agent.logDir</tt>  is evaluated relative to the agent installation directory.</p>

<p>This property does not exist in <tt>agent.properties</tt> unless you explicitly add it.&nbsp; To change the location for the agent log file, add <tt>agent.logDir</tt>&nbsp; to <tt>agent.properties</tt> and enter a path relative to the agent installation directory, or if desired, a fully qualified path.</p>

<p>Note that the name of the agent log file is configured with the <tt><a href="agent.logFile.html" title="agent.logFile">agent.logFile</a></tt> property.</p>

<p><b>Default</b></p>

<p><tt>agent.logDir</tt> does not exist in <tt>agent.properties</tt> unless you explicitly add it.&nbsp; The default behavior is equivalent to this setting:</p>

<p><tt>agent.logDir=log</tt></p>

<p>resulting in the agent log file being written to the <tt>AgentHome/log</tt> directory.</p></td></tr></table></div> 


<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>agent.logFile</b><br /><b>Description</b>

<p>Specifies the path and name of the agent log file.</p>

<p><b>Default</b></p>

<p>Note that in <tt>agent.properties</tt>, the default setting for <tt>agent.LogFile</tt> is made up of a variable and a string.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[agent.logFile=${agent.logDir}\agent.log]]></script>
</div></div>
<ul>
	<li><tt>agent.logDir</tt> is a variable - it supplies the value of an identically named agent property. By default, the value of <tt>agent.logDir</tt> is <tt>log</tt>, interpreted relative to the agent installation directory.</li>
</ul>


<ul>
	<li><tt>agent.log</tt> is the name for the agent log file.</li>
</ul>


<p>So, by default, the agent log file is named <tt>agent.log</tt>, and is written to the <tt>AgentHome/log</tt> directory.</p>

<p>If you want the agent to the log to a different directory, you must explicitly add the <a href="agent.logDir.html" title="agent.logDir">agent.logDir</a> property to <tt>agent.properties</tt>. </p></td></tr></table></div> 

<h1><a name="ConfigureAgentLogging-ConfigureAgentLoggingLevel"></a>Configure Agent Logging Level </h1>

<p>Use this property to control what severity of messages that agent writes to the agent log file: </p>


<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>agent.logLevel</b><br /><b>Description</b><br/>
Specifies the level of detail of the messages the Agent writes to the log file.  Allowable values are:  INFO and DEBUG.<br/>
<b>Default</b><br/>
INFO</td></tr></table></div> 



<h1><a name="ConfigureAgentLogging-RedirectSystemMessagestotheAgentLog"></a>Redirect System Messages to the Agent Log </h1>

<p>Use these properties to redirect system-generated messages to the agent log file: </p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>agent.logLevel.SystemErr</b><br />
<p><b>Description</b></p>

<p>Redirects System.err to agent.log.   Commenting out this setting will cause System.err to be directed to agent.log.startup.</p>

<p><b>Default</b></p>

<p>ERROR</p></td></tr></table></div> 



<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>agent.logLevel.SystemOut</b><br />
<p><b>Description</b></p>

<p>Redirects System.out to agent.log.   Commenting out this setting will cause System.out to be directed to agent.log.startup.</p>

<p><b>Default</b></p>

<p>INFO</p></td></tr></table></div> 



<h1><a name="ConfigureAgentLogging-log4jProperties"></a>log4j Properties </h1>

<p>The log4j properties in <tt>agent.properties</tt> are excerpted below. </p>
<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Agent log4j Properties</b><br />log4j.rootLogger=${agent.logLevel}, R<br/>
log4j.appender.R.File=${agent.logFile}<br/>
log4j.appender.R.MaxBackupIndex=1<br/>
log4j.appender.R.MaxFileSize=5000KB<br/>
log4j.appender.R.layout.ConversionPattern=%d %-5p [%t] [%c{1}] %m%n<br/>
log4j.appender.R.layout=org.apache.log4j.PatternLayout<br/>
log4j.appender.R=org.apache.log4j.RollingFileAppender<br/>
&#35;&#35;<br/>
&#35;&#35; Disable overly verbose logging <br/>
&#35;&#35;<br/>
log4j.logger.httpclient.wire=ERROR<br/>
log4j.logger.org.apache.commons.httpclient=WARN<br/>
log4j.logger.org.hyperic.hq.measurement.agent.server.SenderThread=INFO<br/>
log4j.logger.org.hyperic.hq.agent.server.AgentDListProvider=INFO<br/>
log4j.logger.org.hyperic.hq.agent.server.MeasurementSchedule=INFO<br/>
log4j.logger.org.hyperic.hq.measurement.agent.server.ScheduleThreadTrace=INFO<br/>
log4j.logger.org.hyperic.util.schedule.ScheduleTrace=INFO<br/>
&#35;&#35;<br/>
&#35;&#35; Only log errors from naming context<br/>
&#35;&#35;<br/>
log4j.category.org.jnp.interfaces.NamingContext=ERROR<br/>
log4j.category.org.apache.axis=ERROR</td></tr></table></div> 




				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://support.hyperic.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Jan 20, 2012 10:07</font></td>
		    </tr>
	    </table>
    </body>
</html>
