<?xml version="1.0" encoding="UTF-8"?>
<assembly>
	<formats>
		<format>tar.gz</format>
	</formats>

	<fileSets>
		<fileSet>
			<directory>src/main/resources</directory>
			<outputDirectory>/</outputDirectory>
			<excludes>
				<exclude>**/*.sh</exclude>
				<exclude>**/*.pl</exclude>
				<exclude>**/.gitignore</exclude>
				<exclude>**/*.tar.gz</exclude>
			</excludes>
			<filtered>true</filtered>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>src/main/resources</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>**/*.sh</include>
				<include>**/*.pl</include>
			</includes>
			<filtered>true</filtered>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
		<fileSet>
			<directory>src/main/resources</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>**/*.tar.gz</include>
			</includes>
			<fileMode>0755</fileMode>
			<directoryMode>0755</directoryMode>
		</fileSet>
	</fileSets>

	<dependencySets>
		<dependencySet>
			<useProjectArtifact>false</useProjectArtifact>
			<useTransitiveDependencies>false</useTransitiveDependencies>
			<excludes>
				<exclude>org.hyperic.hq.plugin:*</exclude>
				<exclude>mysql:mysql-connector-java</exclude>
				<exclude>postgresql:postgresql</exclude>
				<exclude>mx4j:*</exclude>
				<exclude>org.hyperic.hq:hq-pdk:*:javadoc</exclude>
				<exclude>org.hyperic:sigar</exclude>
				<exclude>org.hyperic.hq.agent:hq-product</exclude>
				<exclude>org.hyperic.hq.hqapi:hqapi1</exclude>
			</excludes>
			<unpack>true</unpack>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</dependencySet>
	    <dependencySet>
			<useProjectArtifact>false</useProjectArtifact>
			<useTransitiveDependencies>false</useTransitiveDependencies>
			<outputDirectory>/pdk/javadoc</outputDirectory>
			<includes>
				<include>org.hyperic.hq:hq-pdk:*:javadoc</include>
			</includes>
			<unpack>true</unpack>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</dependencySet>
		<dependencySet>
			<useProjectArtifact>false</useProjectArtifact>
			<useTransitiveDependencies>false</useTransitiveDependencies>
			<includes>
				<include>org.hyperic.hq.plugin:examples</include>
			</includes>
			<unpack>true</unpack>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</dependencySet>
		<dependencySet>
			<useProjectArtifact>false</useProjectArtifact>
			<useTransitiveDependencies>false</useTransitiveDependencies>
			<outputDirectory>/pdk/plugins</outputDirectory>
			<includes>
				<include>org.hyperic.hq.plugin:*</include>
			</includes>
			<excludes>
				<exclude>org.hyperic.hq.plugin:examples</exclude>
				<exclude>*:jar</exclude>
			</excludes>
			<unpack>true</unpack>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</dependencySet>
		<dependencySet>
			<useProjectArtifact>false</useProjectArtifact>
			<useTransitiveDependencies>false</useTransitiveDependencies>
			<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
			<outputDirectory>/pdk/plugins</outputDirectory>
			<includes>
				<include>org.hyperic.hq.plugin:*:jar</include>
			</includes>
			<fileMode>0644</fileMode>
			<directoryMode>0755</directoryMode>
		</dependencySet>
		<dependencySet>
				<useProjectArtifact>false</useProjectArtifact>
				<useTransitiveDependencies>false</useTransitiveDependencies>
				<outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
				<outputDirectory>/pdk/lib</outputDirectory>
				<includes>
					<include>org.hyperic.hq.agent:hq-product</include>
				</includes>
				<fileMode>0644</fileMode>
				<directoryMode>0755</directoryMode>
		</dependencySet>
		<dependencySet>
				<useProjectArtifact>false</useProjectArtifact>
				<useTransitiveDependencies>false</useTransitiveDependencies>
				<outputDirectory>pdk/lib/jdbc</outputDirectory>
				<fileMode>0644</fileMode>
				<directoryMode>0755</directoryMode>
				<includes>
					<include>mysql:mysql-connector-java</include>
					<include>postgresql:postgresql</include>
				</includes>
		</dependencySet>
		<dependencySet>
				<useProjectArtifact>false</useProjectArtifact>
				<useTransitiveDependencies>true</useTransitiveDependencies>
				<outputDirectory>pdk/lib/mx4j</outputDirectory>
				<fileMode>0644</fileMode>
				<directoryMode>0755</directoryMode>
				<includes>
					<include>mx4j:*</include>
				</includes>
		</dependencySet>
		<dependencySet>
				<useProjectArtifact>false</useProjectArtifact>
				<useTransitiveDependencies>false</useTransitiveDependencies>
				<outputDirectory>pdk/lib</outputDirectory>
				<unpack>true</unpack>
				<fileMode>0644</fileMode>
				<directoryMode>0755</directoryMode>
				<includes>
					<include>org.hyperic:sigar</include>
				</includes>
		</dependencySet>
		<dependencySet>
				<useProjectArtifact>false</useProjectArtifact>
				<useTransitiveDependencies>true</useTransitiveDependencies>
				<useTransitiveFiltering>false</useTransitiveFiltering>
				<outputDirectory>pdk/lib</outputDirectory>
				<fileMode>0644</fileMode>
				<directoryMode>0755</directoryMode>
				<!-- Argh - for some reason mvn is still applying filtering to hqapi's transitive deps.  Adding them in explicitly -->
				<includes>
					<include>org.hyperic.hq.hqapi:hqapi1</include>
					<include>org.jvnet.ws.wadl:*</include>
					<include>com.sun.localizer:*</include>
					<include>javax.xml.bind:*</include>
					<include>javax.xml:*</include>
					<include>net.sf.jopt-simple:*</include>
					<include>javax.activation:*</include>
					<include>com.sun.xml.bind:*</include>
					<include>javax.xml.stream:*</include>
					<include>org.apache.xmlrpc:*</include>
					<include>org.apache.ws.commons.util:*</include>
					<include>org.dnsjava:*</include>
					<include>org.jasypt:*</include>
				</includes>
		</dependencySet>
	</dependencySets>

</assembly>
